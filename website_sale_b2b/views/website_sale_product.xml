<odoo>
  <data>

    <template id="product_price_b2b" inherit_id="product_rental.product_price">
      <xpath expr="//*[@t-field='product.rental_frequency']" position="before">
        <t t-if="product.is_b2b()"><span>excl. taxes</span></t>
      </xpath>

      <!-- Remove deposit price: cannot use deposit price as product price in B2B
           as sale drafts would use it which is not what we want. -->
      <xpath expr="//*[hasclass('initial_deposit_title')]//ancestor::h4" position="attributes">
        <attribute name="t-if">not product.is_b2b()</attribute>
      </xpath>

      <xpath expr="//*[hasclass('commitment')]/span[1]" position="replace">
        <t t-if="not product.is_b2b()">
          <span>Commitment duration: </span>
        </t>
        <t t-else="">
          <span>Commitment duration: from </span>
        </t>
      </xpath>

      <xpath expr="//*[hasclass('oe_rental_price')]" position="attributes">
        <attribute name="t-esc">(product.is_b2b() and product.lst_price or product.website_price) * product.rental_price / (product.list_price or 1)</attribute>
      </xpath>

    </template>

    <!-- Replace description_sale by website_description_sale -->

    <template id="product_b2b" inherit_id="website_sale.product">
      <xpath expr="//hr[@t-if='product.description_sale']" position="attributes">
        <attribute name="t-if">product.website_description_sale</attribute>
      </xpath>
      <xpath expr="//p[@t-field='product.description_sale']" position="attributes">
        <attribute name="t-field">product.website_description_sale</attribute>
      </xpath>
    </template>

    <template id="products_description_b2b" inherit_id="website_sale.products_description">
      <xpath expr="//div[@t-field='product.description_sale']" position="attributes">
        <attribute name="t-field">product.website_description_sale</attribute>
      </xpath>
    </template>

    <template id="suggested_products_list_b2b" inherit_id="website_sale.suggested_products_list">
      <xpath expr="//div[@t-field='product.description_sale']" position="attributes">
        <attribute name="t-field">product.website_description_sale</attribute>
      </xpath>
    </template>

    <!-- END Replace description_sale by website_description_sale -->

    <!-- Cart lines modifications: -->

    <template id="cart_lines" inherit_id="website_sale.cart_lines">

      <!-- * Replace description_sale by website_description_sale -->
      <xpath expr="//t[@t-call='website_sale.cart_line_description_following_lines']" position="replace">
        <div class="text-muted d-none d-md-block small" t-field="line.product_id.website_description_sale"></div>
      </xpath>

    </template>

    <!-- END Cart lines modifications -->

  </data>
</odoo>
